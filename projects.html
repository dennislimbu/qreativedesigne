<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QrativeDesign</title>
  <link rel="stylesheet" href="stylemain.css" />
  <link rel="stylesheet" href="mouse.css" />
  <link rel="stylesheet" href="styleproject.css" />
  <script src="script.js" type="module" defer></script>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="layout">

  <header>
    <nav class="navbar navbar-expand-lg bg-light px-4">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold font" href="index.html" style="font-size: 2rem;">Q</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="mainNav">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
            <li class="nav-item"><a class="nav-link" href="projects.html">Projects</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Contact Me</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

<section class="container my-5">
    <h1 class="mb-4 text-center">Projects</h1>
  <div class="d-flex flex-column gap-4 align-items-stretch">
    <!-- Top Section -->
    <div class="d-flex flex-row gap-4">
      <!-- 2x2 grid for 1,2,4,5 -->
      <div class="d-flex flex-column gap-4" style="flex: 2;">
        <div class="d-flex flex-row gap-4">
          <div class="project-card flex-fill"
            onclick="openProjectModal(
              'Packaging and Branding Celestial Moon',
              './img/Celestial Moon/ProjectIMG_1.png',
              'At Celestial Moon, we believe in the power of tradition to bring people togetherâ€”across generations, cultures, and continents. Designed as a bridge between East and West, each mooncake is crafted with care and elegance, blending traditional symbolism with contemporary design.',
                [
                'img/Celestial Moon/ProjectIMG_1_slideshow1.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow2.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow3.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow4.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow5.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow6.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow7.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow8.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow9.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow10.png',
                'img/Celestial Moon/ProjectIMG_1_slideshow11.png'
                ]
            )">
            <img src="./img/Celestial Moon/ProjectIMG_1.png" alt="Packaging and Branding Celestial Moon">
            <div class="img-alt-text">Packaging and Branding Celestial Moon</div>
          </div>


          <div class="project-card flex-fill"
            onclick="openProjectModal(
              'Project 2',
              'https://placehold.co/600x400?text=Project+2',
              'This is more information about Project 2.',
              [
                'https://placehold.co/150x100?text=Gallery+1',
                'https://placehold.co/150x100?text=Gallery+2'
              ]
            )">
            <img src="./img/Typography/ProjectIMG_2.png" alt="Typography">
            <div class="img-alt-text">Typography</div>
          </div>
        </div>
        <div class="d-flex flex-row gap-4">
          <div class="project-card flex-fill" onclick="openProjectModal('Project 4', 'https://placehold.co/600x400?text=Project+4', 'This is more information about Project 4.')">
            <img src="https://placehold.co/300x180?text=Project+4" alt="Project 4">
            <div class="img-alt-text">Project 4</div>
          </div>
          <div class="project-card flex-fill" onclick="openProjectModal('Project 5', 'https://placehold.co/600x400?text=Project+5', 'This is more information about Project 5.')">
            <img src="https://placehold.co/300x180?text=Project+5" alt="Project 5">
            <div class="img-alt-text">Project 5</div>
          </div>
        </div>
      </div>
      <!-- Project 3 on the right, spanning vertically -->
      <div class="project-card d-flex flex-column justify-content-between ms-4" style="flex: 1; min-width: 0;" onclick="openProjectModal('Project 3', 'https://placehold.co/600x400?text=Project+3', 'This is more information about Project 3.')">
        <img src="https://placehold.co/300x380?text=Project+3" style="height:100%;" alt="Project 3">
        <div class="img-alt-text"></div>
      </div>
    </div>
    <!-- Bottom row: 6+7 merged, 8 -->
    <div class="d-flex flex-row gap-4">
      <div class="project-card flex-fill" style="flex:2;" onclick="openProjectModal('Project 6', 'https://placehold.co/600x400?text=Project+6', 'This is more information about Project 6.')">
        <img src="https://placehold.co/400x120?text=Project+6" alt="Project 6">
        <div class="img-alt-text">Project 6</div>
      </div>
      <div class="project-card flex-fill" style="flex:1;" onclick="openProjectModal('Project 7', 'https://placehold.co/600x400?text=Project+7', 'This is more information about Project 7.')">
        <img src="https://placehold.co/200x120?text=Project+7" alt="Project 7">
        <div class="img-alt-text">Project 7</div>
      </div>
    </div>
  </div>

  <!-- Modal Popup -->
  <div id="projectModal" class="project-modal">
    <div class="project-modal-content">
      <span class="project-modal-close" onclick="closeProjectModal()">&times;</span>
      <div class="d-flex flex-row w-100 h-80 gap-4 align-items-center">
        <!-- Slideshow arrows and image -->
        <button id="slidePrev" class="slideshow-arrow" onclick="changeSlide(-1)" aria-label="Previous image">&#8592;</button>
        <div class="modal-main-img d-flex align-items-center justify-content-center" style="flex:1; min-width:220px;">
          <img id="modalImg" src="" alt="" />
        </div>
        <button id="slideNext" class="slideshow-arrow" onclick="changeSlide(1)" aria-label="Next image">&#8594;</button>
        <!-- Project Title & Content (RIGHT) -->
        <div class="modal-main-content d-flex flex-column justify-content-center" style="flex:1;">
          <h2 id="modalTitle"></h2>
          <p id="modalDesc"></p>
        </div>
      </div>
      <div id="slideCount" style="margin-top:1rem; font-size:0.95rem; color:#888;"></div>
    </div>
  </div>
</section>

<script>
let currentSlide = 0;
let slideImages = [];

function openProjectModal(title, imgSrc, desc, gallery=[]) {
  document.getElementById('projectModal').style.display = 'flex';
  document.getElementById('modalTitle').textContent = title;
  document.getElementById('modalDesc').textContent = desc;

  // Prepare slideshow images (main image + gallery)
  slideImages = [imgSrc, ...gallery];
  currentSlide = 0;
  showSlide(currentSlide);

  // Show/hide arrows if only one image
  document.getElementById('slidePrev').style.display = slideImages.length > 1 ? 'block' : 'none';
  document.getElementById('slideNext').style.display = slideImages.length > 1 ? 'block' : 'none';
}

// Add this to your showSlide function
function showSlide(n) {
  if (slideImages.length === 0) return;
  if (n < 0) currentSlide = slideImages.length - 1;
  else if (n >= slideImages.length) currentSlide = 0;
  else currentSlide = n;

  const img = document.getElementById('modalImg');
  img.classList.add('slide-out');
  setTimeout(() => {
    img.src = slideImages[currentSlide];
    img.alt = "Project image " + (currentSlide + 1);
    img.classList.remove('slide-out');
    img.classList.add('slide-in');
    setTimeout(() => img.classList.remove('slide-in'), 400);
  }, 400);

  document.getElementById('slideCount').textContent =
    (currentSlide + 1) + " / " + slideImages.length;
}

function changeSlide(dir) {
  showSlide(currentSlide + dir);
}

function closeProjectModal() {
  document.getElementById('projectModal').style.display = 'none';
}
window.onclick = function(event) {
  const modal = document.getElementById('projectModal');
  if (event.target === modal) {
    closeProjectModal();
  }
}
</script>

  <div class="footer">3</div>
</body>

</html>